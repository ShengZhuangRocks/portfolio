import Document, { Html, Head, Main, NextScript } from "next/document";
import { ServerStyleSheet } from "styled-components";

export default class MyDocument extends Document {
  static async getInitialProps(ctx) {
    const sheet = new ServerStyleSheet();
    const originalRenderPage = ctx.renderPage;

    try {
      ctx.renderPage = () =>
        originalRenderPage({
          enhanceApp: (App) => (props) =>
            sheet.collectStyles(<App {...props} />),
        });

      const initialProps = await Document.getInitialProps(ctx);
      return {
        ...initialProps,
        styles: (
          <>
            {initialProps.styles}
            {sheet.getStyleElement()}
          </>
        ),
      };
    } finally {
      sheet.seal();
    }
  }

  render() {
    return (
      <Html>
        <Head>
          {/* <link rel="preconnect" href="https://fonts.gstatic.com" /> */}
          <link
            rel="icon"
            type="image/svg+xml"
            href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22256%22 height=%22256%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%238248ba%22></rect><path d=%22M3.68 79.78L2.95 64.44Q2.95 64.39 2.93 64.35Q2.91 64.31 2.91 64.27L2.91 64.27Q2.91 63.54 3.68 63.54L3.68 63.54Q4.07 63.54 4.54 63.92L4.54 63.92Q6.86 66.11 9.70 67.40Q12.53 68.69 15.88 68.69L15.88 68.69Q16.79 68.69 17.95 68.50Q19.11 68.30 20.14 67.85Q21.17 67.40 21.88 66.67Q22.59 65.94 22.59 64.82L22.59 64.82Q22.59 63.58 21.98 62.59Q21.38 61.60 20.39 60.91L20.39 60.91Q20.01 60.66 19.23 60.05Q18.46 59.45 17.47 58.68Q16.48 57.91 15.41 57.03Q14.34 56.14 13.37 55.35Q12.40 54.55 11.63 53.91Q10.86 53.27 10.47 52.92L10.47 52.92Q7.93 51.03 6.45 49.10Q4.97 47.16 4.20 45.06Q3.42 42.95 3.21 40.70Q2.99 38.44 2.99 35.91L2.99 35.91Q2.99 32.13 4.80 28.73Q6.60 25.34 9.89 22.82Q13.18 20.31 17.77 18.83Q22.37 17.34 28 17.34L28 17.34Q28.69 17.34 30.06 17.49Q31.44 17.64 33.09 17.99Q34.75 18.33 36.46 18.93Q38.18 19.54 39.60 20.48L39.60 20.48Q40.07 20.82 40.35 21.17Q40.63 21.51 40.72 22.24L40.72 22.24Q40.93 25.72 41.06 29.10Q41.19 32.47 41.41 36.25L41.41 36.25Q41.41 36.98 41.11 37.22Q40.80 37.45 40.33 37.45L40.33 37.45Q39.86 37.45 39.60 37.20L39.60 37.20Q38.36 35.95 37.02 34.75Q35.69 33.54 34.23 32.62Q32.77 31.70 31.12 31.14Q29.46 30.58 27.53 30.58L27.53 30.58Q26.37 30.58 25.21 30.77Q24.05 30.96 23.10 31.48Q22.16 32.00 21.58 32.90Q21.00 33.80 21.00 35.18L21.00 35.18Q21.00 36.64 21.36 37.71Q21.73 38.79 23.19 39.73L23.19 39.73L33.50 46.73Q36.34 48.75 38.10 50.75Q39.86 52.75 40.85 54.73Q41.84 56.70 42.20 58.62Q42.57 60.53 42.57 62.38L42.57 62.38Q42.57 65.38 41.58 68.05Q40.59 70.71 38.87 72.97Q37.15 75.22 34.85 77.01Q32.55 78.79 29.93 80.06Q27.31 81.32 24.50 81.99Q21.68 82.66 18.98 82.66L18.98 82.66Q16.87 82.66 14.83 82.59Q12.79 82.53 10.86 82.25Q8.92 81.97 7.12 81.39Q5.31 80.81 3.68 79.78L3.68 79.78ZM51.76 80.42L51.76 80.42Q51.25 80.42 50.73 80.31Q50.21 80.21 49.79 79.93Q49.36 79.65 49.08 79.15Q48.80 78.66 48.80 77.84L48.80 77.84Q48.80 77.76 48.84 77.67Q48.88 77.59 48.88 77.50L48.88 77.50L71.27 38.23Q71.27 38.10 70.35 37.99Q69.42 37.88 67.98 37.82Q66.54 37.75 64.82 37.69Q63.11 37.63 61.54 37.60Q59.97 37.58 58.74 37.56Q57.52 37.54 57.09 37.54L57.09 37.54Q54.77 37.54 52.75 37.60Q50.73 37.67 48.54 37.67L48.54 37.67Q48.07 37.67 47.72 37.35Q47.38 37.02 47.38 36.59L47.38 36.59Q47.42 36.55 47.42 36.51L47.42 36.51Q47.42 36.38 47.46 36.25L47.46 36.25L53.01 22.97Q53.39 22.03 54.19 21.45Q54.98 20.87 55.99 20.54Q57.00 20.22 58.16 20.12Q59.32 20.01 60.44 20.01L60.44 20.01Q65.13 20.01 69.68 20.20Q74.23 20.39 78.77 20.61Q83.30 20.82 87.83 21.02Q92.37 21.21 97.01 21.21L97.01 21.21L97.01 22.97L76.08 62.07Q76.08 62.16 76.06 62.18Q76.04 62.20 76.04 62.29L76.04 62.29Q76.04 62.76 76.47 62.83Q76.90 62.89 77.24 62.89L77.24 62.89L85.75 62.89Q88.33 62.89 90.73 62.57Q93.14 62.25 95.72 62.25L95.72 62.25Q96.23 62.25 96.66 62.57Q97.09 62.89 97.09 63.36L97.09 63.36Q97.09 63.32 97.01 63.75L97.01 63.75L90.09 77.50Q89.75 78.53 88.82 79.13Q87.90 79.73 86.59 80.04Q85.28 80.34 83.69 80.42Q82.10 80.51 80.42 80.51L80.42 80.51Q73.68 80.51 66.74 80.46Q59.80 80.42 51.76 80.42Z%22 fill=%22%23fff%22></path></svg>"
          />
          <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
          />
          <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/icon?family=Material+Icons"
          />
          <link
            href="https://fonts.googleapis.com/css2?family=Cedarville+Cursive&family=Rubik:wght@900&display=swap"
            rel="stylesheet"
          />
          <script
            src="https://kit.fontawesome.com/50ec7955dd.js"
            // crossOrigin="anonymous"
          ></script>
        </Head>
        <body>
          <Main />
          <NextScript />
        </body>
      </Html>
    );
  }
}
